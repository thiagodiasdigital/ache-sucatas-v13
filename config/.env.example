# ============================================
# ACHE SUCATAS DaaS V13 - CONFIGURAÇÃO
# ============================================
# Copie este arquivo para .env e preencha as credenciais
# cp .env.example .env

# ============================================
# SUPABASE (OBRIGATÓRIO)
# ============================================
# Obter em: https://supabase.com/dashboard/project/SEU_PROJETO/settings/api
SUPABASE_URL=https://SEU_PROJETO.supabase.co
SUPABASE_SERVICE_KEY=sua_service_key_aqui

# Senha do banco (para conexão direta PostgreSQL)
# Obter em: Settings → Database → Database password
SUPABASE_DB_PASSWORD=sua_senha_do_banco_aqui

# ============================================
# PNCP API (PÚBLICO - não precisa alterar)
# ============================================
PNCP_BASE_URL=https://pncp.gov.br/api/consulta/v1
PNCP_ARQUIVOS_URL=https://pncp.gov.br/pncp-api/v1

# ============================================
# CONFIGURAÇÕES LOCAIS
# ============================================

# Diretórios
DOWNLOAD_DIR=./ACHE_SUCATAS_DB
LOG_DIR=./logs
BACKUP_DIR=./backups

# Limites
MAX_PAGES_PDF=50
MAX_RESULTS_PER_PAGE=500
REQUEST_TIMEOUT=30

# ============================================
# FEATURES FLAGS
# ============================================

# Ativar integração com Supabase PostgreSQL
ENABLE_SUPABASE=true

# Ativar Supabase Storage (V11 - PDFs na nuvem)
ENABLE_SUPABASE_STORAGE=true

# Nome do bucket no Supabase Storage
SUPABASE_STORAGE_BUCKET=editais-pdfs

# Limite de segurança: máximo de editais no Supabase
# Aprovado: $50 USD = ~10.000 editais no free tier
MAX_EDITAIS_SUPABASE=10000

# Manter backup local (CSV/XLSX) - desativado no modo cloud
ENABLE_LOCAL_BACKUP=false

# Cache de PDFs local (economiza downloads) - não usado no V11
ENABLE_PDF_CACHE=false

# Modo debug (mais logs)
DEBUG=false

# ============================================
# CRON (V10 MINER)
# ============================================

CRON_MODE=true
JANELA_TEMPORAL_HORAS=24
PAGE_LIMIT=3
MAX_DOWNLOADS=200

# ============================================
# OPENAI (V18 - Enriquecimento com IA)
# ============================================
# Obter em: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-sua_chave_aqui

# ============================================
# EMAIL DE ALERTAS (Gmail SMTP)
# ============================================
# Usa as mesmas variáveis do GitHub Actions

# Seu email do Gmail
EMAIL_ADDRESS=seu_email@gmail.com

# Senha de App do Gmail (16 caracteres, sem espaços)
# Para criar: https://myaccount.google.com/apppasswords
# Pré-requisito: Ative "Verificação em duas etapas" na conta Google
EMAIL_APP_PASSWORD=xxxx_xxxx_xxxx_xxxx

# Email que receberá os alertas (opcional - usa EMAIL_ADDRESS se não definido)
# ALERT_EMAIL_TO=outro_email@exemplo.com

# ============================================
# SEGURANÇA
# ============================================

# Log de auditoria (rastrear todas as operações)
ENABLE_AUDIT_LOG=true

# Verificar integridade de arquivos (SHA256)
ENABLE_FILE_VERIFICATION=true
